{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{useParams,useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const AdminEquipmentDetails=()=>{const{equipmentId}=useParams();const[equipment,setEquipment]=useState(null);const[error,setError]=useState(null);const navigate=useNavigate();useEffect(()=>{const fetchEquipmentDetails=async()=>{try{const response=await fetch(\"/api/equipment/\".concat(equipmentId));const data=await response.json();if(response.ok){setEquipment(data);setError(null);}}catch(error){console.error(\"Error fetching equipment details:\",error);setError(\"Error fetching equipment details:\",error);}};fetchEquipmentDetails();},[equipmentId]);const handleDeleteEquipmentClick=async id=>{try{const response=await fetch(\"/api/equipment/\".concat(id),{method:\"DELETE\"});if(response.ok){setError(null);navigate(\"/\");}}catch(error){console.error(\"Error trying to delete:\",error);setError(\"Error deleting the equipment:\",error);}};const handleClick=id=>{navigate(\"/admin/equipment/edit/\".concat(id));};return/*#__PURE__*/_jsx(\"div\",{className:\"equipment-details\",children:equipment?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"img-title flex-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"picture\",children:/*#__PURE__*/_jsx(\"img\",{src:equipment.image,alt:equipment.title})}),/*#__PURE__*/_jsx(\"h3\",{children:equipment.title})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bottom-parent flex-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"details\",children:[/*#__PURE__*/_jsx(\"p\",{children:equipment.description}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Price: \",/*#__PURE__*/_jsxs(\"strong\",{children:[equipment.price,\" \"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"reservation-div\",children:[/*#__PURE__*/_jsx(\"p\",{className:equipment.availability?\"available\":\"not-available\",children:/*#__PURE__*/_jsx(\"strong\",{children:equipment.availability?\"Available\":\"Not available\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleClick(equipment._id),children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeleteEquipmentClick(equipment._id),children:\"Delete\"})]})]}),equipment.draft?/*#__PURE__*/_jsx(\"p\",{className:\"draft\",children:/*#__PURE__*/_jsx(\"strong\",{children:equipment.draft?\"Draft\":\"Not draft\"})}):\"\"]}):/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error})});};export default AdminEquipmentDetails;","map":{"version":3,"names":["React","useEffect","useState","useParams","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AdminEquipmentDetails","equipmentId","equipment","setEquipment","error","setError","navigate","fetchEquipmentDetails","response","fetch","concat","data","json","ok","console","handleDeleteEquipmentClick","id","method","handleClick","className","children","src","image","alt","title","description","price","availability","onClick","_id","draft"],"sources":["Z:/inventory4/equipment_reservation_system/frontend/src/components/AdminEquipmentDetails.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\n\r\nconst AdminEquipmentDetails = () => {\r\n  const { equipmentId } = useParams();\r\n  const [equipment, setEquipment] = useState(null);\r\n  const [error, setError] = useState(null);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const fetchEquipmentDetails = async () => {\r\n      try {\r\n        const response = await fetch(`/api/equipment/${equipmentId}`);\r\n        const data = await response.json();\r\n        if (response.ok) {\r\n          setEquipment(data);\r\n          setError(null);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error fetching equipment details:\", error);\r\n        setError(\"Error fetching equipment details:\", error);\r\n      }\r\n    };\r\n    fetchEquipmentDetails();\r\n  }, [equipmentId]);\r\n\r\n  const handleDeleteEquipmentClick = async (id) => {\r\n    try {\r\n      const response = await fetch(`/api/equipment/${id}`, {\r\n        method: \"DELETE\",\r\n      });\r\n\r\n      if (response.ok) {\r\n        setError(null);\r\n        navigate(\"/\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error trying to delete:\", error);\r\n      setError(\"Error deleting the equipment:\", error);\r\n    }\r\n  };\r\n\r\n  const handleClick = (id) => {\r\n    navigate(`/admin/equipment/edit/${id}`);\r\n  };\r\n\r\n  return (\r\n    <div className=\"equipment-details\">\r\n      {equipment ? (\r\n        <>\r\n          <div className=\"img-title flex-container\">\r\n            <div className=\"picture\">\r\n              <img src={equipment.image} alt={equipment.title} />\r\n            </div>\r\n            <h3>{equipment.title}</h3>\r\n          </div>\r\n\r\n          <div className=\"bottom-parent flex-container\">\r\n            <div className=\"details\">\r\n              <p>{equipment.description}</p>\r\n              <p>\r\n                Price: <strong>{equipment.price} </strong>\r\n              </p>\r\n            </div>\r\n\r\n            <div className=\"reservation-div\">\r\n              <p\r\n                className={\r\n                  equipment.availability ? \"available\" : \"not-available\"\r\n                }\r\n              >\r\n                <strong>\r\n                  {equipment.availability ? \"Available\" : \"Not available\"}\r\n                </strong>\r\n              </p>\r\n\r\n              <button onClick={() => handleClick(equipment._id)}>Edit</button>\r\n              <button onClick={() => handleDeleteEquipmentClick(equipment._id)}>\r\n                Delete\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          {equipment.draft ? (\r\n            <p className=\"draft\">\r\n              <strong>{equipment.draft ? \"Draft\" : \"Not draft\"}</strong>\r\n            </p>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </>\r\n      ) : (\r\n        <div className=\"error-message\">{error}</div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminEquipmentDetails;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}