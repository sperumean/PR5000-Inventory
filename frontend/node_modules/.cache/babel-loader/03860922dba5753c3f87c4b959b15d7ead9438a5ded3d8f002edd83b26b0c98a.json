{"ast":null,"code":"import{useState}from\"react\";import{useEquipmentContext}from\"../hooks/useEquipmentContext\";import{useAuthContext}from\"../hooks/useAuthContext\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const AdminResForm=()=>{const{dispatch}=useEquipmentContext();const{user}=useAuthContext();const navigate=useNavigate();const[title,setTitle]=useState(\"\");const[image,setImage]=useState(\"\");const[price,setPrice]=useState(\"\");const[description,setDescription]=useState(\"\");const[availability,setAvailability]=useState(true);const[draft,setDraft]=useState(true);const[error,setError]=useState(null);const handleSubmit=async e=>{e.preventDefault();if(!user){setError(\"Admin should be logged in\");return;}const equipment={title,image,price,description,availability,draft};const response=await fetch(\"/api/equipment\",{method:\"POST\",body:JSON.stringify(equipment),headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(user.token)}});const json=await response.json();if(!response.ok){setError(json.error);}if(response.ok){navigate(\"/\");dispatch({type:\"CREATE_EQUIPMENT\",payload:json});}};return/*#__PURE__*/_jsx(\"div\",{className:\"content-wrapper admin\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"admin-form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Add new equipment:\"}),/*#__PURE__*/_jsx(\"label\",{children:\"Title:\"}),/*#__PURE__*/_jsx(\"input\",{name:\"title\",type:\"text\",onChange:e=>setTitle(e.target.value),value:title,required:true}),/*#__PURE__*/_jsx(\"label\",{children:\"Image URL:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"image\",value:image,onChange:e=>setImage(e.target.value),required:true}),/*#__PURE__*/_jsx(\"label\",{children:\"Price:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"price\",value:price,onChange:e=>setPrice(e.target.value),required:true}),/*#__PURE__*/_jsx(\"label\",{children:\"Description:\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"description\",value:description,onChange:e=>setDescription(e.target.value),required:true}),/*#__PURE__*/_jsx(\"label\",{children:\"Availability:\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"availability\",value:availability,onChange:e=>setAvailability(e.target.value),required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:true,children:\"Available\"}),/*#__PURE__*/_jsx(\"option\",{value:false,children:\"Not Available\"})]}),/*#__PURE__*/_jsx(\"label\",{children:\"Draft:\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"draft\",value:draft,onChange:e=>setDraft(e.target.value),required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:true,children:\"Draft\"}),/*#__PURE__*/_jsx(\"option\",{value:false,children:\"Not draft\"})]}),/*#__PURE__*/_jsx(\"button\",{children:\"Add equipment\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:error})]})});};export default AdminResForm;","map":{"version":3,"names":["useState","useEquipmentContext","useAuthContext","useNavigate","jsx","_jsx","jsxs","_jsxs","AdminResForm","dispatch","user","navigate","title","setTitle","image","setImage","price","setPrice","description","setDescription","availability","setAvailability","draft","setDraft","error","setError","handleSubmit","e","preventDefault","equipment","response","fetch","method","body","JSON","stringify","headers","Authorization","concat","token","json","ok","type","payload","className","children","onSubmit","name","onChange","target","value","required"],"sources":["Z:/inventory4/equipment_reservation_system/frontend/src/components/AdminResForm.js"],"sourcesContent":["import { useState } from \"react\";\r\nimport { useEquipmentContext } from \"../hooks/useEquipmentContext\";\r\nimport { useAuthContext } from \"../hooks/useAuthContext\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst AdminResForm = () => {\r\n  const { dispatch } = useEquipmentContext();\r\n  const { user } = useAuthContext();\r\n  const navigate = useNavigate();\r\n\r\n  const [title, setTitle] = useState(\"\");\r\n  const [image, setImage] = useState(\"\");\r\n  const [price, setPrice] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [availability, setAvailability] = useState(true);\r\n  const [draft, setDraft] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!user) {\r\n      setError(\"Admin should be logged in\");\r\n      return;\r\n    }\r\n    const equipment = { title, image, price, description, availability, draft };\r\n    const response = await fetch(\"/api/equipment\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify(equipment),\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${user.token}`,\r\n      },\r\n    });\r\n    const json = await response.json();\r\n    if (!response.ok) {\r\n      setError(json.error);\r\n    }\r\n    if (response.ok) {\r\n      navigate(\"/\");\r\n      dispatch({ type: \"CREATE_EQUIPMENT\", payload: json });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"content-wrapper admin\">\r\n      <form className=\"admin-form\" onSubmit={handleSubmit}>\r\n        <h3>Add new equipment:</h3>\r\n        <label>Title:</label>\r\n        <input\r\n          name=\"title\"\r\n          type=\"text\"\r\n          onChange={(e) => setTitle(e.target.value)}\r\n          value={title}\r\n          required\r\n        />\r\n\r\n        <label>Image URL:</label>\r\n        <input\r\n          type=\"text\"\r\n          name=\"image\"\r\n          value={image}\r\n          onChange={(e) => setImage(e.target.value)}\r\n          required\r\n        />\r\n\r\n        <label>Price:</label>\r\n        <input\r\n          type=\"number\"\r\n          name=\"price\"\r\n          value={price}\r\n          onChange={(e) => setPrice(e.target.value)}\r\n          required\r\n        />\r\n\r\n        <label>Description:</label>\r\n        <textarea\r\n          name=\"description\"\r\n          value={description}\r\n          onChange={(e) => setDescription(e.target.value)}\r\n          required\r\n        ></textarea>\r\n\r\n        <label>Availability:</label>\r\n        <select\r\n          name=\"availability\"\r\n          value={availability}\r\n          onChange={(e) => setAvailability(e.target.value)}\r\n          required\r\n        >\r\n          <option value={true}>Available</option>\r\n          <option value={false}>Not Available</option>\r\n        </select>\r\n\r\n        <label>Draft:</label>\r\n        <select\r\n          name=\"draft\"\r\n          value={draft}\r\n          onChange={(e) => setDraft(e.target.value)}\r\n          required\r\n        >\r\n          <option value={true}>Draft</option>\r\n          <option value={false}>Not draft</option>\r\n        </select>\r\n\r\n        <button>Add equipment</button>\r\n        {error && <div className=\"error\">{error}</div>}\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminResForm;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}