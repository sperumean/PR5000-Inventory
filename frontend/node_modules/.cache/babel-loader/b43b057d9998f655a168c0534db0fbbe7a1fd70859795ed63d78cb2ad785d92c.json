{"ast":null,"code":"import{useEffect,useState}from\"react\";import{useParams,useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const AdminUpdateEquipment=()=>{const[equipment,setEquipment]=useState(null);const[error,setError]=useState(null);const{equipmentId}=useParams();const navigate=useNavigate();useEffect(()=>{const fetchData=async()=>{try{const response=await fetch(\"/api/equipment/\".concat(equipmentId));const data=await response.json();if(response.ok){setEquipment(data);setError(null);}}catch(error){console.error(\"Error fetching equipment details:\",error);setError(error);}};fetchData();},[equipmentId]);const handleInputChange=event=>{setEquipment({...equipment,[event.target.name]:event.target.value});};const handleSubmit=async event=>{event.preventDefault();try{const response=await fetch(\"/api/equipment/\".concat(equipmentId),{method:\"PUT\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(equipment)});const data=await response.json();if(response.ok){console.log(\"Update success:\",data);navigate(-1);}}catch(error){console.error(\"Error updating equipment:\",error);setError(\"Error updating equipment:\",error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"content-wrapper admin\",children:[equipment&&/*#__PURE__*/_jsxs(\"form\",{className:\"admin-form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Edit equipment:\"}),/*#__PURE__*/_jsx(\"label\",{children:\"Title:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"title\",value:equipment.title,onChange:handleInputChange,required:true}),/*#__PURE__*/_jsx(\"label\",{children:\"Image URL:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"image\",value:equipment.image,onChange:handleInputChange,required:true}),/*#__PURE__*/_jsx(\"label\",{children:\"Description:\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"description\",value:equipment.description,onChange:handleInputChange,required:true}),/*#__PURE__*/_jsx(\"label\",{children:\"Price:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"price\",value:equipment.price,onChange:handleInputChange,required:true}),/*#__PURE__*/_jsx(\"label\",{children:\"Availability:\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"availability\",value:equipment.availability,onChange:handleInputChange,required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:true,children:\"Available\"}),/*#__PURE__*/_jsx(\"option\",{value:false,children:\"Not Available\"})]}),/*#__PURE__*/_jsx(\"label\",{children:\"Draft:\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"draft\",value:equipment.draft,onChange:handleInputChange,required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:true,children:\"Draft\"}),/*#__PURE__*/_jsx(\"option\",{value:false,children:\"Not draft\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Update\"})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error})]});};export default AdminUpdateEquipment;","map":{"version":3,"names":["useEffect","useState","useParams","useNavigate","jsx","_jsx","jsxs","_jsxs","AdminUpdateEquipment","equipment","setEquipment","error","setError","equipmentId","navigate","fetchData","response","fetch","concat","data","json","ok","console","handleInputChange","event","target","name","value","handleSubmit","preventDefault","method","headers","body","JSON","stringify","log","className","children","onSubmit","type","title","onChange","required","image","description","price","availability","draft"],"sources":["Z:/inventory4/equipment_reservation_system/frontend/src/components/AdminUpdateEquipment.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\n\r\nconst AdminUpdateEquipment = () => {\r\n  const [equipment, setEquipment] = useState(null);\r\n  const [error, setError] = useState(null);\r\n  const { equipmentId } = useParams();\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const response = await fetch(`/api/equipment/${equipmentId}`);\r\n        const data = await response.json();\r\n        if (response.ok) {\r\n          setEquipment(data);\r\n          setError(null);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error fetching equipment details:\", error);\r\n        setError(error);\r\n      }\r\n    };\r\n    fetchData();\r\n  }, [equipmentId]);\r\n\r\n  const handleInputChange = (event) => {\r\n    setEquipment({\r\n      ...equipment,\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      const response = await fetch(`/api/equipment/${equipmentId}`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(equipment),\r\n      });\r\n\r\n      const data = await response.json();\r\n      if (response.ok) {\r\n        console.log(\"Update success:\", data);\r\n        navigate(-1);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error updating equipment:\", error);\r\n      setError(\"Error updating equipment:\", error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"content-wrapper admin\">\r\n      {equipment && (\r\n        <form className=\"admin-form\" onSubmit={handleSubmit}>\r\n          <h3>Edit equipment:</h3>\r\n\r\n          <label>Title:</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"title\"\r\n            value={equipment.title}\r\n            onChange={handleInputChange}\r\n            required\r\n          />\r\n\r\n          <label>Image URL:</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"image\"\r\n            value={equipment.image}\r\n            onChange={handleInputChange}\r\n            required\r\n          />\r\n\r\n          <label>Description:</label>\r\n          <textarea\r\n            name=\"description\"\r\n            value={equipment.description}\r\n            onChange={handleInputChange}\r\n            required\r\n          ></textarea>\r\n\r\n          <label>Price:</label>\r\n          <input\r\n            type=\"number\"\r\n            name=\"price\"\r\n            value={equipment.price}\r\n            onChange={handleInputChange}\r\n            required\r\n          />\r\n\r\n          <label>Availability:</label>\r\n          <select\r\n            name=\"availability\"\r\n            value={equipment.availability}\r\n            onChange={handleInputChange}\r\n            required\r\n          >\r\n            <option value={true}>Available</option>\r\n            <option value={false}>Not Available</option>\r\n          </select>\r\n\r\n          <label>Draft:</label>\r\n          <select\r\n            name=\"draft\"\r\n            value={equipment.draft}\r\n            onChange={handleInputChange}\r\n            required\r\n          >\r\n            <option value={true}>Draft</option>\r\n            <option value={false}>Not draft</option>\r\n          </select>\r\n\r\n          <button type=\"submit\">Update</button>\r\n        </form>\r\n      )}\r\n      {error && <div className=\"error-message\">{error}</div>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminUpdateEquipment;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}